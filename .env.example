# Copy this file to .env and adjust for your deployment target.

# ============================================================================
# CORE DJANGO CONFIGURATION
# ============================================================================
# ENV can be: prod | dev | console
#   prod    → Production mode (DEBUG=False)
#   dev     → Local development (DEBUG=True recommended)
#   console → Prints activation/reset URLs to the container logs
ENV=prod
DEBUG=False

# Must be set to a secure, random value in production.
SECRET_KEY=CHANGE_ME_IN_PRODUCTION

# Hosts your backend should accept requests from.
ALLOWED_HOSTS=videoflix.local,localhost,127.0.0.1

# CORS / CSRF configuration for browsers.
CORS_ALLOWED_ORIGINS=https://videoflix.local
CSRF_TRUSTED_ORIGINS=https://videoflix.local

# Public base URL used for activation/reset links in emails.
# For local dev you may use: PUBLIC_API_BASE=http://127.0.0.1:8000/api
PUBLIC_API_BASE=http://127.0.0.1:8000/api

# Base URL used to build absolute media/thumbnail URLs.
# Must be reachable by clients or the frontend.
PUBLIC_MEDIA_BASE=http://127.0.0.1:8000


# ============================================================================
# DATABASE (POSTGRES)
# ============================================================================
DB_ENGINE=postgresql
DB_NAME=videoflix
DB_USER=videoflix
DB_PASSWORD=videoflix
DB_HOST=postgres
DB_PORT=5432


# ============================================================================
# REDIS / RQ (QUEUE + CACHE)
# ============================================================================
# Redis instance for cache / queue workers
REDIS_URL=redis://redis:6379/1
RQ_URL=redis://redis:6379/0
RQ_REDIS_URL=redis://redis:6379/0

# Queue names — must match Django/RQ settings.
RQ_QUEUE_TRANSCODE=transcode
RQ_QUEUE_DEFAULT=transcode


# ============================================================================
# EMAIL / SMTP (ACCOUNT ACTIVATION + PASSWORD RESET)
# ============================================================================
# For local development, you may set EMAIL_BACKEND=console or ENV=console
# to print activation/reset URLs directly to terminal logs.
EMAIL_BACKEND=smtp
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_HOST_USER=videoflix@example.com
EMAIL_HOST_PASSWORD=super-secret
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False

DEFAULT_FROM_EMAIL=Videoflix <noreply@example.com>
SERVER_EMAIL=Videoflix Ops <ops@example.com>
EMAIL_SUBJECT_PREFIX=[Videoflix]


# ============================================================================
# FRONTEND ORIGINS (CORS + EMAIL LINKS)
# ============================================================================
# Local development frontend (if running separately)
DEV_FRONTEND_ORIGIN=//127.0.0.1:5500

# Public base URL of the frontend (used inside email templates)
FRONTEND_BASE_URL=https://videoflix.local
